import{bJ as N,fs as O,ft as s,e as S,fu as M,fv as l,u as A,fw as P,j as T}from"./index-CRroVR8n.js";function R(u,o,t){const C=Math.sin(u),c=Math.cos(u),e=Math.sin(o),r=Math.cos(o),n=t;return n[0]=-C,n[4]=-e*c,n[8]=r*c,n[12]=0,n[1]=c,n[5]=-e*C,n[9]=r*C,n[13]=0,n[2]=0,n[6]=r,n[10]=e,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,n}function W(u,o,t){return R(u,o,t),N(t,t),t}function F(u,o,t,C){const c=O(u,C);if(c==null)return!1;const e=c.source.spatialReferenceId,r=c.dest.spatialReferenceId;if(e===r&&!_(r)&&(e!==s.UNKNOWN||S(u,C)))return M(t,o),!0;if(_(r)){const E=l[e][s.LON_LAT],i=l[s.LON_LAT][r];return E!=null&&i!=null&&(E(o,0,a,0),i(a,0,f,0),R(L*a[0],L*a[1],t),t[12]=f[0],t[13]=f[1],t[14]=f[2],!0)}const n=_(e);if((r===s.WEB_MERCATOR||r===s.PLATE_CARREE||r===s.WGS84||r===s.CGCS2000)&&(e===s.WGS84||n||e===s.WEB_MERCATOR||e===s.CGCS2000)){const E=l[e][s.LON_LAT],i=l[s.LON_LAT][r];return E!=null&&i!=null&&(E(o,0,a,0),i(a,0,f,0),n?W(L*a[0],L*a[1],t):P(t),t[12]=f[0],t[13]=f[1],t[14]=f[2],!0)}return!1}function _(u){return u===s.SPHERICAL_ECEF||u===s.SPHERICAL_MARS_PCPF||u===s.SPHERICAL_MOON_PCPF||u===s.WGS84_ECEF}const L=T(1),a=A(),f=A();export{F as m,R as n};
